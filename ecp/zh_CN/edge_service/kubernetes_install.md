# Kubernetes方式托管部署边缘服务

基于 Kubernetes 方式部署的 ECP 平台，ECP 可在 Kubernetes 平台内 批量安装部署边缘服务，缩短边缘服务的安装与部署时间，提高部署效率和一致性。

## 前置条件

- 已完成 ECP 平台与 Kubernetes 集群的[连接设置](../system_admin/resource_config.md#配置-kubernetes-连接设置)。
- 已完成镜像仓库配置，参考[镜像仓库配置](../system_admin/resource_config.md#配置镜像仓库)。
- 已完成边缘服务容器镜像列表的配置，参考[边缘服务容器镜像列表配置](../system_admin/resource_config.md#配置边缘服务容器镜像列表)。
 

## 批量安装边缘服务

1. 以系统/组织/项目管理员的身份登录，在**工作台**页面，点击左侧导航栏的**边缘服务**。

2. 点击**添加边缘服务**按钮，进入添加边缘服务页。

3. **添加方式**选择**批量安装新服务**，安装类型选择**Kubernetes**。

4. **类型**可以选择 NeuronEX。

5. **连接方式**默认为**直连**，不可更改。

6. 输入边缘服务的名称前缀，系统会根据名称前缀自动生成唯一的服务名称；1-20 个字符，并支持 "-" 和空格。

7. 选择一个或多个**边缘节点**，ECP要会在每一个边缘节点部署一个所选择**类型**的边缘服务实例。

8. 对边缘服务的配置参数进行设置，不修改将默认使用全局配置中的参数。

9. 选择需要安装边缘服务的镜像。

10. [可选]安装 NeuronEX 实例，可选择是否开启认证，具体信息，可查看[边缘服务认证](./e2c.md)。

11. [可选] 可以选择为边缘服务实例添加标签，方便后续维护。

12. ECP 会根据以上设定自动在页面右侧生成本次安装的信息概览，您可在此进行确认，如信息确认无误，可点击**确认**按钮，进行批量边缘服务的安装。

![批量安装边缘服务](./_assets/install-neuronex-by-Kubernetes.png)